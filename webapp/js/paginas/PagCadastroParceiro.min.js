function PagCadastroParceiro(){this.construtor=function(){pagina.setTitle("Cadastro"),this.montaPagHtml()},this.montaPagHtml=function(){pagina.getPagina().empty();var e=document.createElement("main");e.className="container",e.setAttribute("style","margin-top: 4em !important");var a=document.createElement("form");a.className="col s12";var t=document.createElement("div");t.className="row";var n=document.createElement("div");n.className="input-field col s12";var l=document.createElement("input");l.type="text",l.tagName="tags",l.id="tags",l.setAttribute("data-role","materialtags"),n.appendChild(l);var i=document.createElement("label");i.htmlFor="tags",i.setAttribute("style","left:0em !important"),i.appendChild(document.createTextNode("Serviços")),n.appendChild(i);var d=document.createElement("div");d.className="row";var o=document.createElement("div");o.className="input-field col s12";var r=document.createElement("select");r.multiple="multiple",r.id="selectTags";var s=document.createElement("option");s.selected="selected",s.value="",s.disabled="disabled",s.appendChild(document.createTextNode("Selecione o tipo de serviço")),r.appendChild(s),o.appendChild(r),this.construtorTags(r,tags);var c=document.createElement("label");c.appendChild(document.createTextNode("Tipo de serviço")),o.appendChild(c),d.appendChild(o),a.appendChild(d);var m=document.createElement("div");m.className="input-field col s12";var p=document.createElement("input");p.className="validate",p.type="text",p.id="cpf",m.appendChild(p);var u=document.createElement("label");u.htmlFor="cpf",u.appendChild(document.createTextNode("CPF")),m.appendChild(u),t.appendChild(m),a.appendChild(t);var v=document.createElement("div");v.className="row";var g=document.createElement("div");g.className="input-field col s12";var f=document.createElement("textarea");f.className="materialize-textarea",f.id="descParceiro",g.appendChild(f);var h=document.createElement("label");h.htmlFor="descObra",h.appendChild(document.createTextNode("Faça uma descrição do seu serviço")),g.appendChild(h),v.appendChild(g),a.appendChild(v),e.appendChild(a),pagina.getPagina().appendChild(e);var y=document.createElement("div");y.className="container";var E=document.createElement("div");E.className="row center",E.setAttribute("style","margin:0em !important");var C=document.createElement("a");C.className="waves-effect waves-light btn btn-large btn-xl",C.appendChild(document.createTextNode("Concluir Cadastro")),C.addEventListener("click",function(){var e=new Array;e=$("#selectTags").val(),0==e.length&&(e=void 0);var a=document.getElementById("descParceiro").value;0==a.length&&(a=void 0);var t=document.getElementById("cpf").value;0==t.length&&(t=void 0);var n=new Usuario,l=JSON.parse(window.localStorage.getItem("cadastrarPrestador"));console.log("usuario a ser cadastrado"),console.log(n),n.json(l)&&l?n.setTags(e)&&e?n.setDescricao(a)&&a?n.setCpf(t)&&t?(n.setPrestadorServico(!0),pag.concluirCadastro(n,l.senha)):alert("CPF faltante."):alert("Descrição faltante."):alert("Lista de serviço faltante."):alert("Erro ao cadastrar usuário.")}),E.appendChild(C),y.appendChild(E);var N=document.createElement("div");N.className="col s12 center";var b=document.createElement("a");b.className="waves-effect waves-teal btn-flat teal-text",b.appendChild(document.createTextNode("Voltar")),b.addEventListener("click",function(){pagina.abrirPaginas("selecionarPerfil")}),N.appendChild(b),y.appendChild(N),pagina.getPagina().appendChild(y),$(".datepicker").pickadate({selectMonths:!0,selectYears:15}),$("#selectTags").material_select(),$("#selectTags").change(function(){var e=[],a=$(this),t=a.prev();t.children("li").toArray().forEach(function(t,n){$(t).hasClass("active")&&e.push(a.children("option").toArray()[n].value)}),a.val(e),console.log($(this).val())})},this.concluirCadastro=function(e,a){var t=new HttpReq("post",pagina.apiUrl()+"usuario/cadastrar/1",function(e){if(console.log("Request returns:"),"string"==typeof e&&(e=JSON.parse(e)),console.log(e),e.err)1111==e.err?alerta.abrirErro("Esse e-mail já está em uso."):alerta.abrirErro(e.err),localStorage.setItem("controle","prestador"),pagina.abrirPaginas("cadastroGeral");else{r=e;var a=new Token(e.result);void 0!=a.getSeq()&&void 0!=a.getUsuarioId()?(alerta.abrirSucesso("Usuário cadastrado com sucesso"),localStorage.setItem("token",a.jsonString()),n.setId(a.getUsuarioId()),e.usuario.foto&&n.setFoto(e.usuario.foto),localStorage.setItem("usuario",n.jsonString(!0)),pagina.abrirPaginas("main")):alerta.abrirErro("Não foi possível entrar no aplicativo. Tente novamente mais tarde.")}}),n=new Usuario;if(n.json(e)){n.setSenhaSemVerificar(a),console.log("usuario a ser cadastrado:"),console.log(n);var l=localStorage.getItem("controle");console.log("imagem do usuario a ser cadastrado:"),console.log(l);var i=new FormData;i.append("userImage",l),i.append("usuario",n.jsonString(!0)),localStorage.setItem("controle",void 0),t.enviar(i)}else alerta("Erro no cadastro de usuário.")},this.construtorTags=function(e,a){for(i=0;i<a.length;i++){var t=document.createElement("option");t.value=a[i],t.appendChild(document.createTextNode(a[i])),e.appendChild(t)}},this.construtor()}