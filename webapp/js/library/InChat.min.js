function InChat(e,t){this.id=void 0,this.websocket=void 0,this.construtor=function(e,t){window.localStorage.getItem("token")?this.setId(t)&&this.setWebSocket(new WebSocket(e))&&(carregando.abrir(),function(e){e.getWebSocket().addEventListener("open",function(t){e.enviar("teste_aaaaaa"),carregando.fechar()}),e.getWebSocket().addEventListener("close",function(){console.log("Conexão encerrada.")}),e.getWebSocket().addEventListener("error",function(e){alerta.abrirErro("Erro ao realizar a conexão."),console.log(e),carregando.fechar()}),e.getWebSocket().addEventListener("message",function(e){console.log(e)})}(this)):alerta.abrirErro("Você precisa estar logado para se conectar ao servidor.")},this.enviar=function(e){return window.localStorage.getItem("token")?1==this.getWebSocket().readyState?(this.getWebSocket().send(JSON.stringify({token:window.localStorage.getItem("token"),id:this.getId(),mensagem:e})),!0):(alerta.abrirErro("Você foi desconectado."),!1):(alerta.abrirErro("Você precisa estar logado para se conectar ao servidor."),!1)},this.setId=function(e){return this.id=e,!0},this.getId=function(){return this.id},this.setWebSocket=function(e){return e?(this.websocket=e,!0):!1},this.getWebSocket=function(){return this.websocket},this.fechar=function(){return this.getWebSocket().close(),!0},this.construtor(e,t)}